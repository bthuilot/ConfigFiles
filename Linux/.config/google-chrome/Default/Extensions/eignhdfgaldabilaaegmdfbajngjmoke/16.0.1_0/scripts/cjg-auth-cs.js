var browserNamespace=window.browser||this.browser||window.chrome;!function(){"use strict";var e=browserNamespace.i18n.getMessage("@@extension_id");if(location.href.startsWith("https://www.google.com/cjg-auth/"+e)){for(var o,r=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=r?"moz-extension://":"chrome-extension://",s=t+e,n={},i=location.hash.substring(1),a=/([^&=]+)=([^&]*)/g;o=a.exec(i);)n[decodeURIComponent(o[1])]=decodeURIComponent(o[2]);var c=n.state.split("---"),g=c[0];if(g===e){var w=c[1];if("permissionrequest"===w){var m=n.error?"denied":"granted";return void(location.href="https://www.google.com/cjg-message/"+e+"/"+m)}parent.postMessage({timestamp:w,method:"getToken",error:n.error,result:n},s)}}}();