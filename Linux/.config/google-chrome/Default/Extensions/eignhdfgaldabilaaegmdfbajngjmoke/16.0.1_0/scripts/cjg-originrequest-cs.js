var browserNamespace=window.browser||this.browser||window.chrome;!function(){"use strict";var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=browserNamespace.i18n.getMessage("@@extension_id"),t=e?"moz-extension://":"chrome-extension://",n=browserNamespace.runtime.getURL("").slice(0,-1),o=!location.host.endsWith(".google.com"),a=encodeURIComponent(location.hostname.replace(".google.com","")),s=location.pathname!=="/cjg-originrequest/"+r,i=t+r!==n;if(!(o||s||i)){var d="(function() { 'use strict'; var extensionId = '"+r+"'; var subdomain = '"+a+"'; var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1; var extensionUrlBase = isFirefox ? 'moz-extension://' : 'chrome-extension://'; var parentOrigin = extensionUrlBase + extensionId; function ajaxRequest(parameters) { return new Promise(function(resolve, reject) { var xhr = new XMLHttpRequest(); if (parameters.credentials === 'include') { xhr.withCredentials = true; } xhr.open(parameters.method || 'GET', parameters.url); xhr.addEventListener('load', function() { if (xhr.status >= 200 && xhr.status < 300) { resolve(xhr.responseText); } else { reject({ 'error': xhr.status, 'body': xhr.responseText }); } }); xhr.addEventListener('error', function() { reject({ 'error': xhr.status, 'body': xhr.responseText }); }); if (parameters.headers) { Object.keys(parameters.headers).forEach(function(header) { var value = parameters.headers[header]; if (value !== null && typeof value !== 'undefined') { xhr.setRequestHeader(header, value); } }); } xhr.send(parameters.body); return xhr; }); } window.addEventListener('message', function(ev) { var eventData = ev.data || {}; var method = eventData.method; if (ev.origin !== parentOrigin || method !== 'cjgOriginrequest' || eventData.extensionId !== extensionId) { return; } ajaxRequest(eventData.ajax).then(function(result) { ev.source.postMessage({ 'method': method, 'requestId': eventData.requestId, 'result': result, 'extensionId': extensionId }, parentOrigin); }, function(error) { ev.source.postMessage({ 'method': method, 'requestId': eventData.requestId, 'error': error, 'extensionId': extensionId }, parentOrigin); }); }); parent.postMessage({ 'cjgOriginrequestReady': true, 'extensionId': extensionId, 'subdomain': subdomain, 'sapisid': document.cookie.indexOf('SAPISID=') !== -1 && document.cookie.split('SAPISID=')[1].split(';')[0] }, parentOrigin); })();";!function u(){if(document.head){var e=document.createElement("meta");e.name="referrer",e.content="no-referrer",document.head.appendChild(e);var r=document.createElement("script");r.textContent=d,document.head.appendChild(r)}else setTimeout(u,10)}()}}();