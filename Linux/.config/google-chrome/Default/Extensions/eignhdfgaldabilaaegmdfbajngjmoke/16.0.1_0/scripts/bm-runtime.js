!function(){"use strict";function e(e){browser.tabs.create({url:e}),"popup"===bmRuntime.environment&&window.close()}function n(e){browser.windows.create({type:"panel",url:e.url,height:e.height||500,width:e.width||500}),"popup"===bmRuntime.environment&&window.close()}function t(e,n){return browser.i18n&&browser.i18n.getMessage&&browser.i18n.getMessage(e)||n||""}function i(e,n){n.classList.toggle("bm-ele--loading","on"===e)}function o(){var e=0;return(bmRuntime.portalOnSide||"popup"===bmRuntime.environment)&&e++,bmRuntime.portalOnSide||(e++,g.signedIn?bmRuntime.servicePageData.notifications&&e++:e++,bmRuntime.servicePageData.portal&&e++),e}function r(e){return new Promise(function(n){function t(i){var o=i.data;o.requestId===e&&(window.removeEventListener("message",t),n(o.result))}window.addEventListener("message",t)})}window.bmRuntime={openTab:e,openPanel:n,i18n:t,toggleLoading:i,getMainToolbarButtonCount:o,onRequestReceived:r}}();