cjModules.define(function(){"use strict";return function(e,t){function n(e){return{id:e,label:j[e]}}function a(e,t){return cjBasics.urls.create("https://www.google.com/search",{authuser:g.account.authuser,q:e,tbm:"all"===t?null:t,hl:g.lang})}function i(e,t){return cjBasics.urls.create("https://www.google.com/search",{bm_contentscript:"search",bm_mobile:"1",bm_embed:"1",authuser:g.account.authuser,q:e,tbm:"all"===t?null:t,fg:"1",gws_rd:"cr",hl:g.lang})}function c(t,n){h.searchmenu.hide(),t&&t.length>0?(m.style.display="",b.style.display="none",bmRuntime.toggleLoading("on",e),m.src=i(t,n)):(b.style.display="",m.style.display="none",m.src="")}function s(e,t){bmRuntime.openTab(a(e,t))}function r(e){var t=cjBasics.urls.create("https://www.google.com/complete/search",{client:"serp",authuser:g.account.authuser,xhr:"t",q:e,ds:w[p.selected],hl:g.lang});return cjBasics.ajax(t,{fetchAs:"json"})}function l(e){var t=Date.now();r(e).then(function(e){if(!(_>t)){_=t,f.textContent="";var n=e[1];if(n.length>0){for(var a=0;a<n.length;a++){var i,c=n[a],s=c[0],r=c[3];r&&r.b&&r.c?(s+="â€“ "+r.b,i=r.c):i=s.split("<b>").join("").split("</b>").join("");var l=cjMaterial.createElement("item");l.dataset.value=i,l.innerHTML=s,f.appendChild(l)}h.searchmenu.show()}else h.searchmenu.hide()}})}function o(){return bmElements.createElement("pageheader",{color:"#fff",light:!0,pageId:"search",includeSearchMenu:!0,searchboxProperties:{color:"#4285f4",onInput:l,onClear:function(){h.searchmenu.hide()},onSubmit:function(e){c(e,p.selected)},onSubmitAlt:function(e){s(e,p.selected)}}})}function u(){var e=cjMaterial.createElement("appbar",{color:"#fff",light:!0,secondary:!0});p=cjMaterial.createElement("tabs",{fill:!0,items:E,onActiveClick:function(e){s(h.searchbox.value,e)},onChange:function(e){c(h.searchbox.value,e)},selected:"all"});var t=bmElements.createElement("dropdown",{onChange:function(e){var n=t.querySelector("[data-id='"+e+"']"),a=p.querySelector(":scope > :nth-child(4)"),i=a.dataset.id;n.dataset.id=i,n.textContent=j[i],a.dataset.id=e,a.textContent=j[e],p.selected=e,c(h.searchbox.value,e),t.classList.remove("on")},items:y}),n=document.createElement("div");n.className="cj-md-tabs__item dropdown-button",n.addEventListener("click",function(e){t.classList.add("on"),e.stopPropagation()}),document.body.addEventListener("click",function(){t.classList.remove("on")}),t.addEventListener("click",function(e){e.stopPropagation()});var a=document.createTextNode(bmRuntime.i18n("cj_i18n_00047","More"));return n.appendChild(a),n.appendChild(t),p.appendChild(n),e.appendChild(p),e}function d(){h=o(),e.appendChild(h),f=cjMaterial.createElement("list"),f.classList.add("bm-ele-autocomplete"),f.addEventListener("click",function(e){var t=e.target.dataset.value;h.searchbox.value=t,h.searchmenu.hide(),c(t,p.selected)}),h.searchmenu.appendChild(f);var t=u();e.appendChild(t);var n=cjMaterial.createElement("container",{shadow:!0});b=cjMaterial.createElement("emptystate",{color:"#4285f4",iconName:"__mdi:search",subLabel:bmRuntime.i18n("cj_i18n_00046","Please enter a search query")}),n.appendChild(b),m=bmElements.createElement("iframe",{noLoading:!0}),m.setAttribute("style","display: none;"),m.iframeElement.addEventListener("load",function(){bmRuntime.toggleLoading("off",e)}),n.appendChild(m),e.appendChild(n),v(h.searchbox.select)}var m,h,p,b,f,v=t.onPageDisplay,_=0,j={all:bmRuntime.i18n("cj_i18n_00083","All"),isch:bmRuntime.i18n("cj_i18n_00017","Images"),bks:bmRuntime.i18n("cj_i18n_00019","Books"),shop:bmRuntime.i18n("cj_i18n_00015","Shopping"),vid:bmRuntime.i18n("cj_i18n_00014","Videos"),nws:bmRuntime.i18n("cj_i18n_00018","News"),pts:bmRuntime.i18n("cj_i18n_00016","Patents")},w={isch:"i",bks:"bo",shop:"sh",vid:"yt",nws:"n"};t.setOpenInNewHandler(function(){var e,t=m.src;if(t.startsWith("https://")){var n=new URL(t);e=n.origin+n.pathname;var a=n.search.replace("?","").split("&").filter(function(e){return!e.startsWith("bm_")}).join("&");a.length>2&&(e+="?"+a);var i=n.hash;i.startsWith("#")&&(i=i.replace("#","")),i.length>1&&(e+="#"+i)}else{var c=p.selected;e=cjBasics.urls.create("https://www.google.com/search",{authuser:g.account.authuser,tbm:"all"===c?null:c,fg:"1",gws_rd:"cr",hl:g.lang})}bmRuntime.openTab(e)});var E=["all","isch","bks"].map(n),y=["shop","vid","nws","pts"].map(n);d()}});