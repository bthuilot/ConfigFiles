cjModules.define(function(){"use strict";return function(e,n){function t(e,n){var t=e||"",a=n||{};return a.authuser=g.account.authuser,a.hl=g.lang,cjBasics.urls.create(E+t,a)}function a(e){var n=t("api/"+e);return cjBasics.ajax(n).then(function(e){var n=JSON.parse(e.replace(")]}',",""));return n.data.items||[]})}function i(e){var n=cjMaterial.createElement("griditem");n.addEventListener("click",function(){var n="publications/";"TOPIC"===e.kind&&(n="topics/");var a=t(n+e.id);bmRuntime.openTab(a)});var a=document.createElement("div");a.className="newsstanditem__thumbnail";var i;i="PUBLICATION/NEWS/FEED"===e.kind?t("media/icon.rss.gray.360x360.png"):e.icon&&e.icon.image.url,i&&(a.style.backgroundImage='url("'+i+'")'),"TOPIC"===e.kind&&(a.style.backgroundColor=e.theme.background),n.appendChild(a);var r=document.createElement("div");r.className="cj-md-grid__item__bottom",n.appendChild(r);var l=document.createElement("div");l.className="cj-md-grid__item__textcontainer",r.appendChild(l);var c=document.createElement("div");return c.textContent=e.title,l.appendChild(c),n}function r(e){if(0===e.length)return cjMaterial.createElement("emptystate",{color:C,label:bmRuntime.i18n("cj_i18n_00135","No library items found"),iconName:"__mdi:news"});for(var n=document.createDocumentFragment(),t=0;t<e.length;t++){var a=i(e[t]);n.appendChild(a)}return n}function l(){bmRuntime.toggleLoading("on",e),_.textContent="";var n=cjMaterial.createElement("gridcontainer");_.appendChild(n);var t="";g.cache.getItem("bm__cache__newsstand__library").then(function(e){if(Array.isArray(e)){t=JSON.stringify(e);var a=r(e);n.appendChild(a)}}),a("library/subscriptions").then(function(a){if(bmRuntime.toggleLoading("off",e),JSON.stringify(a)!==t){n.textContent="",g.cache.setItem("bm__cache__newsstand__library",a);var i=r(a);n.appendChild(i)}})}function c(e){var n=cjMaterial.createElement("griditem");n.addEventListener("click",function(){var n="publications/";"TOPIC"===e.kind&&(n="topics/");var a=t(n+e.id);bmRuntime.openTab(a)});var a=document.createElement("div");a.className="newsstanditem__thumbnail newsstanditem__thumbnail--tall",a.style.backgroundImage='url("'+e.image.url+'")',"TOPIC"===e.kind&&(a.style.backgroundColor=e.theme.background),n.appendChild(a);var i=document.createElement("div");i.className="cj-md-grid__item__bottom",n.appendChild(i);var r=document.createElement("div");r.className="cj-md-grid__item__textcontainer",i.appendChild(r);var l=document.createElement("div");l.textContent=e.magazineTitle.title,r.appendChild(l);var c=document.createElement("div");return c.className="cj-md-secondarytext",c.textContent=e.title,r.appendChild(c),n}function o(e){if(0===e.length)return cjMaterial.createElement("emptystate",{color:C,label:bmRuntime.i18n("cj_i18n_00130","No magazines items found"),iconName:"__mdi:auto_stories"});for(var n=document.createDocumentFragment(),t=0;t<e.length;t++){var a=c(e[t]);n.appendChild(a)}return n}function m(){bmRuntime.toggleLoading("on",e),_.textContent="";var n=cjMaterial.createElement("gridcontainer");_.appendChild(n);var t="";g.cache.getItem("bm__cache__newsstand__magazines").then(function(e){if(Array.isArray(e)){t=JSON.stringify(e);var a=o(e);n.appendChild(a)}}),a("library/magazines").then(function(a){if(bmRuntime.toggleLoading("off",e),JSON.stringify(a)!==t){n.textContent="",g.cache.setItem("bm__cache__newsstand__magazines",a);var i=o(a);n.appendChild(i)}})}function d(e){var n=t("search",{"for":e});bmRuntime.openTab(n)}function s(){"library"===y?l():m()}function u(){var e=cjMaterial.createElement("appbar",{color:"#fff",secondary:!0,light:!0}),n=cjMaterial.createElement("iconbutton",{iconName:"__mdi:menu",onClick:function(){h.open()}});return e.appendChild(n),f=cjMaterial.createElement("title",{label:j[y].label}),e.appendChild(f),e}function b(){var e=cjMaterial.createElement("drawer",{color:C}),n=bmElements.createElement("servicelogo",{labelPrefix:"google_logo Play ",label:bmRuntime.i18n("cj_i18n_00136","Newsstand"),color:C});e.appendChild(n);var t=bmElements.createElement("drawertabs",{items:j,onChange:function(e,n){n.external?bmRuntime.openTab(n.newTabUrl):(y=e,f.textContent=j[y].label,s())},selected:"library"});return e.appendChild(t),e}function p(){var t=bmElements.createElement("pageheader",{color:"#fff",light:!0,pageId:"newsstand",searchboxProperties:{color:C,onSubmit:d,submitInNewTab:!0}});e.appendChild(t),v(t.searchbox.select);var a=u();e.appendChild(a),_=cjMaterial.createElement("container",{scrollable:!0,shadow:!0}),e.appendChild(_),s(),h=b(),e.appendChild(h),n.setOpenInNewHandler(function(){var e=j[y].newTabUrl;bmRuntime.openTab(e)})}var _,h,f,v=n.onPageDisplay,C="#9c27b0",y="library",E="https://newsstand.google.com/",j={library:{label:bmRuntime.i18n("cj_i18n_00131","Library"),iconName:"__mdi:view_module",newTabUrl:t("my/library")},magazines:{label:bmRuntime.i18n("cj_i18n_00132","Magazines"),iconName:"__mdi:auto_stories",newTabUrl:t("my/magazines")},bookmarks:{label:bmRuntime.i18n("cj_i18n_00133","Read later"),iconName:"__mdi:bookmark",newTabUrl:t("my/bookmarks"),external:!0},shop:{label:bmRuntime.i18n("cj_i18n_00134","Shop"),iconName:"__mdi:shop",newTabUrl:"https://play.google.com/store/newsstand?authuser="+g.account.authuser,external:!0}};p()}});