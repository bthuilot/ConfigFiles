cjModules.define(function(){"use strict";return function(e,t){function n(t){if(t&&"notAuthorized"===t.error&&y===!1){y=!0;var n=bmElements.createElement("fulldialog",{serviceLogo:{label:bmRuntime.i18n("cj_i18n_00444","Search Console")},iconName:"search_console",message:bmRuntime.i18n("cj_i18n_00284","Before you can use this page, you need to give access to Google Search Console"),actionLabel:bmRuntime.i18n("cj_i18n_00224","Give permission"),action:t.authorize});e.appendChild(n)}}function a(){var e=g.account.pageid,t=g.account.authuser,n="https://search.google.com/";return"0"!==t&&(n+="u/"+t+"/"),"none"!==e&&(n+="b/"+e+"/"),n}function i(e){return cjBasics.urls.create(a()+"test/"+e,{bm_contentscript:"searchconsole",bm_embed:"1",bm_wiz:"1",hl:g.lang})}function o(){var e=cjMaterial.createElement("appbar",{color:"#455a64",secondary:!0}),t=cjMaterial.createElement("iconbutton",{iconName:"__mdi:menu",onClick:function(){f.open()}});return e.appendChild(t),w=cjMaterial.createElement("title",{label:bmRuntime.i18n("cj_i18n_00291","Home")}),e.appendChild(w),e}function r(){var e=cjMaterial.createElement("drawer",{color:"#455a64"}),t=bmElements.createElement("servicelogo",{label:bmRuntime.i18n("cj_i18n_00444","Search Console"),color:"color"});e.appendChild(t);var n=bmElements.createElement("drawertabs",{items:b,onChange:function(e){var t=b[e];_.selected=e,w.textContent=t.label,h.classList.toggle("cj-md-appbar--secondary",!t.hideSearchbox);var n=t.hideSearchbox?h:p;R.forEach(function(e){n.appendChild(e)}),p.style.display=t.hideSearchbox?"none":""},selected:"home"});return e.appendChild(n),e}function c(){return g.request(E+"sites?hl="+g.lang,{fetchAs:"json"},{scope:v}).then(function(e){return e.siteEntry},n)}function l(t){c().then(function(n){if(n&&n.length>0){var a=cjMaterial.createElement("list");n.forEach(function(e){var t=cjMaterial.createElement("item");t.addEventListener("click",function(){var t=cjBasics.urls.create(C+"dashboard",{authuser:g.account.authuser,siteUrl:e.siteUrl});bmRuntime.openTab(t)});var n=cjMaterial.createElement("icon",{favicon:e.siteUrl});t.appendChild(n);var i=document.createElement("div");i.className="cj-md-item__body";var o=document.createElement("div");o.className="cj-md-item__header",o.textContent=e.siteUrl,i.appendChild(o);var r=document.createElement("div");r.className="cj-md-secondarytext",r.textContent=e.permissionLevel,i.appendChild(r),t.appendChild(i),a.appendChild(t)}),t.appendChild(a)}else{var i=cjMaterial.createElement("emptystate",{label:bmRuntime.i18n("cj_i18n_00055","No sites found"),iconName:"__mdi:cj_drive_sites",color:"#455a64"});t.appendChild(i)}bmRuntime.toggleLoading("off",e)})}function s(e){var t=cjMaterial.createElement("list");T.forEach(function(e){var n=cjMaterial.createElement("item",{divider:!0});n.addEventListener("click",function(){var t=e.url+(e.url.indexOf("?")!==-1?"&":"?")+"authuser="+g.account.authuser;bmRuntime.openTab(t)});var a=document.createElement("div");a.className="cj-md-item__body";var i=document.createElement("div");i.className="cj-md-item__header",i.textContent=e.label,a.appendChild(i);var o=document.createElement("div");o.className="cj-md-secondarytext cj-md-item__body-item--no-overflow",o.textContent=e.description,a.appendChild(o),n.appendChild(a),t.appendChild(n)}),e.appendChild(t)}function m(e){var t=bmElements.createElement("iframe",{src:i("amp")});e.appendChild(t)}function u(e){var t=bmElements.createElement("iframe",{src:i("mobile-friendly")});e.appendChild(t)}function d(){b={home:{iconName:"__mdi:home",label:bmRuntime.i18n("cj_i18n_00291","Home"),afterLoad:l,newTabUrl:C+"?authuser="+g.account.authuser},resources:{iconName:"__mdi:build",label:bmRuntime.i18n("cj_i18n_00286","Other resources"),afterLoad:s,newTabUrl:C+"other-links-sc?authuser="+g.account.authuser},mobileFriendlyTest:{iconName:"__mdi:smartphone",label:bmRuntime.i18n("cj_i18n_00287","Mobile-Friendly Test"),afterLoad:u,hideSearchbox:!0,content:function(){return cjMaterial.createElement("container")},newTabUrl:"https://search.google.com/u/"+g.account.authuser+"/test/mobile-friendly"},ampTest:{iconName:"__mdi:smartphone",label:bmRuntime.i18n("cj_i18n_00288","AMP Test"),afterLoad:m,hideSearchbox:!0,content:function(){return cjMaterial.createElement("container")},newTabUrl:"https://search.google.com/u/"+g.account.authuser+"/test/amp"}},bmRuntime.toggleLoading("on",e),p=cjMaterial.createElement("appbar",{color:"#455a64"});var n=bmElements.createElement("searchbox",{onSubmit:function(e){bmRuntime.openTab("https://support.google.com/webmasters/search?authuser="+g.account.authuser+"&q="+e)},submitInNewTab:!0});p.appendChild(n);var a=bmElements.createElement("maintoolbarbuttons","webmastertools");R=Array.from(a.children),p.appendChild(a),f=r(),h=o(),e.appendChild(p),j(n.select),e.appendChild(h),e.appendChild(f),_=bmElements.createElement("multiplecontainer",{items:b,selected:"home"}),e.appendChild(_),t.setOpenInNewHandler(function(){bmRuntime.openTab(b[_.selected].newTabUrl)})}var p,h,b,_,f,w,j=t.onPageDisplay,v=["https://www.googleapis.com/auth/webmasters.readonly"],E="https://www.googleapis.com/webmasters/v3/",C="https://www.google.com/webmasters/tools/",y=!1,R=[],T=[{url:C+"richsnippets",label:bmRuntime.i18n("cj_i18n_00270","Structured Data Testing Tool"),description:bmRuntime.i18n("cj_i18n_00277","Use the Structured Data Testing Tool to check that Google can correctly parse your structured data markup and display it in search results.")},{url:"https://www.google.com/webmasters/markup-helper?hl=en",label:bmRuntime.i18n("cj_i18n_00271","Structured Data Markup Helper"),description:bmRuntime.i18n("cj_i18n_00278","Not sure how to start with adding structured data markup to your HTML? Try this point-and-click tool.")},{url:"https://www.google.com/webmasters/markup-tester?hl=en",label:bmRuntime.i18n("cj_i18n_00272","Email Markup Tester"),description:bmRuntime.i18n("cj_i18n_00279","Validate the structured data contents of an HTML email using Email Markup Tester.")},{url:"https://www.google.com/placesforbusiness",label:bmRuntime.i18n("cj_i18n_00273","Google Places"),description:bmRuntime.i18n("cj_i18n_00280","97% of consumers search for local businesses online. Be there when they're looking for you with Google Places for business - a free local platform from Google.")},{url:"https://www.google.com/merchants",label:bmRuntime.i18n("cj_i18n_00274","Google Merchant Center"),description:bmRuntime.i18n("cj_i18n_00281","The place to upload your product data to Google and make it available to Google Product Search and other Google services.")},{url:"https://developers.google.com/speed/pagespeed/insights/?hl=en&utm_source=wmx&utm_campaign=wmx_otherlinks",label:bmRuntime.i18n("cj_i18n_00275","PageSpeed Insights"),description:bmRuntime.i18n("cj_i18n_00282","Use PageSpeed Insights to find out how to make your web pages fast on all devices.")},{url:"https://www.google.com/cse/create/new?hl=en&cselang=en&utm_source=wmx",label:bmRuntime.i18n("cj_i18n_00276","Custom Search"),description:bmRuntime.i18n("cj_i18n_00283","Harness the power of Google to create a customized search experience for your own website.")}];d()}});