!function(){"use strict";function t(t){window.parent.postMessage({blackMenuOpenUrl:t},"*")}function e(t){return"A"===t.tagName?t:t===document.body?null:e(t.parentNode)}var n="https://translate.google.com"===location.origin&&location.pathname.startsWith("/m/translate");if(n){var o="https://translate.google.com/",i=o+"community/",a="0",r=location.href.split("authuser=")[1];if(r&&"0"!==r[0]){a=r[0];var s="?authuser="+a;o+=s,i+=s}var u=new Promise(function(t){window.addEventListener("DOMContentLoaded",function(){t()})});window.addEventListener("message",function(e){var n=e.origin.startsWith("chrome-extension://")||e.origin.startsWith("moz-extension://");if(n){var i=e.data,a=i.method,r=document.getElementById("source");if("translateOpenInNew"===a){var s=document.querySelector(".go-button"),c=new MouseEvent("mousedown"),d=new MouseEvent("mouseup");return s.dispatchEvent(c),s.dispatchEvent(d),r.focus(),void setTimeout(function(){t(o+location.hash)},200)}return"translateFocus"===a?void u.then(function(){r.focus()}):"translatePrefillText"===a?void u.then(function(){r.value=i.value}):void 0}}),document.addEventListener("mousedown",function(n){var o=e(n.target),a=o&&o.href;a&&a.indexOf("google.com/community")!==-1&&(o.href="",o.addEventListener("click",function(){t(i)}))})}}();